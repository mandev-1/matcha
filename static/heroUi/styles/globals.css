@import "tailwindcss";

@plugin '../hero.ts';

@source '../node_modules/@heroui/theme/dist/**/*.{js,ts,jsx,tsx}';

@custom-variant dark (&:is(.dark *));

@theme {
    --font-sans: "font", sans-serif;
    --font-mono: "monospace", monospace;
}

/* Dark mode: off-black background instead of pure black (#121214 = zinc-950-ish) */
.dark body,
.dark.bg-background,
.dark .bg-background {
    background-color: #121214;
}

/* Desktop: match 67% zoom at 100% — scale layout so it looks like 67% zoom without zooming */
@media (min-width: 768px) {
    html {
        font-size: 67%;
    }
}

/* Profile page at 100%: counter the desktop 67% root so the Profile card displays at full size */
@media (min-width: 768px) {
    .profile-page-100 {
        font-size: 149.25%; /* 1/0.67 so rem = 100% of 16px */
    }
}

/* Animated rainbow glow for level 100+ profile cards – tight, no black */
@keyframes rainbow-glow-shift {
    0%, 100% {
        box-shadow:
            0 0 8px rgba(255, 0, 0, 0.45),
            0 0 16px rgba(255, 165, 0, 0.35),
            0 0 24px rgba(255, 255, 0, 0.25),
            0 0 32px rgba(0, 255, 0, 0.3),
            0 0 40px rgba(0, 0, 255, 0.25),
            0 0 48px rgba(75, 0, 130, 0.3),
            0 0 56px rgba(238, 130, 238, 0.35);
    }
    25% {
        box-shadow:
            0 0 8px rgba(0, 255, 0, 0.35),
            0 0 16px rgba(0, 0, 255, 0.45),
            0 0 24px rgba(75, 0, 130, 0.35),
            0 0 32px rgba(238, 130, 238, 0.45),
            0 0 40px rgba(255, 0, 0, 0.35),
            0 0 48px rgba(255, 165, 0, 0.3),
            0 0 56px rgba(255, 255, 0, 0.3);
    }
    50% {
        box-shadow:
            0 0 8px rgba(238, 130, 238, 0.45),
            0 0 16px rgba(255, 0, 0, 0.35),
            0 0 24px rgba(255, 165, 0, 0.35),
            0 0 32px rgba(255, 255, 0, 0.3),
            0 0 40px rgba(0, 255, 0, 0.35),
            0 0 48px rgba(0, 0, 255, 0.4),
            0 0 56px rgba(75, 0, 130, 0.35);
    }
    75% {
        box-shadow:
            0 0 8px rgba(0, 0, 255, 0.4),
            0 0 16px rgba(75, 0, 130, 0.35),
            0 0 24px rgba(238, 130, 238, 0.45),
            0 0 32px rgba(255, 0, 0, 0.35),
            0 0 40px rgba(255, 165, 0, 0.3),
            0 0 48px rgba(255, 255, 0, 0.35),
            0 0 56px rgba(0, 255, 0, 0.3);
    }
}

.animate-rainbow-glow {
    animation: rainbow-glow-shift 4s ease-in-out infinite;
}

/* Chat icon “dance” when there are unread messages */
@keyframes chat-dance {
    0%, 100% {
        transform: scale(1) rotate(0deg) translateY(0);
    }
    15% {
        transform: scale(1.1) rotate(-8deg) translateY(-4px);
    }
    30% {
        transform: scale(1.05) rotate(8deg) translateY(0);
    }
    45% {
        transform: scale(1.1) rotate(-6deg) translateY(-4px);
    }
    60% {
        transform: scale(1.05) rotate(6deg) translateY(0);
    }
    75% {
        transform: scale(1.08) rotate(-3deg) translateY(-2px);
    }
}

/* Abrupt flash-flash (icon color only), then 6–8s delay */
@keyframes chat-beep-beep {
    0% {
        color: inherit;
    }
    1.5% {
        color: rgb(239 68 68);
    }
    3% {
        color: inherit;
    }
    4.5% {
        color: rgb(239 68 68);
    }
    6% {
        color: inherit;
    }
    100% {
        color: inherit;
    }
}

.animate-chat-dance {
    animation: chat-dance 1.2s ease-in-out infinite;
}

.animate-chat-beep-beep {
    animation: chat-beep-beep 8s ease-in-out infinite;
}

/* Zap: quick scale + opacity exit for chat hint */
@keyframes zap-out {
    0% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 1;
        transform: scale(1.05);
    }
    100% {
        opacity: 0;
        transform: scale(0.9);
    }
}

.animate-zap-out {
    animation: zap-out 0.4s ease-out forwards;
}

/* Mobile touch scrolling for nested scroll containers (e.g. runway cards) */
.scroll-touch {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
}